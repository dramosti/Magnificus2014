<runtime:WindowsBase 
        xmlns:System="clr-namespace:System;assembly=mscorlib"
        xmlns:runtime="clr-namespace:HLP.Comum.View.Formularios;assembly=HLP.Comum.View"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:enums="clr-namespace:HLP.Comum.Resources.RecursosBases;assembly=HLP.Comum.Resources"
        xmlns:convert="clr-namespace:HLP.Comum.View.Converters;assembly=HLP.Comum.View"
        xmlns:Components="clr-namespace:HLP.Comum.View.Components;assembly=HLP.Comum.View"
        x:Class="HLP.Entries.View.WPF.Gerais.Financeiro.WinDiaPagamento"
        Title="Dia de Pagamento"
        NameView="vwDiaPagamento">
    <Window.Resources>
        <ObjectDataProvider 
            MethodName="GetDict"
            ObjectType="{x:Type convert:EnumDescriptionConverter}"
            x:Key="EnumSemanaOuMes">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="enums:SemanaOuMes"></x:Type>
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
        <ObjectDataProvider 
            MethodName="GetDict"
            ObjectType="{x:Type convert:EnumDescriptionConverter}"
            x:Key="EnumDiaUtil">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="enums:DiaUtil"></x:Type>
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
    </Window.Resources>
    <DockPanel LastChildFill="True">
        <Expander Header="Geral" DockPanel.Dock="Left" IsExpanded="True" Width="440">
            <WrapPanel Orientation="Vertical" Margin="0,10,0,0">
                <Components:HlpTextBox 
					IsReadOnly="True"
					Text="{Binding currentModel.idDiaPagamento, Mode=TwoWay,  UpdateSourceTrigger=PropertyChanged}"
					Height="27" Caption="Código " Help="Chave principal do registro dia de pagamento" WidthLabel="142" Margin="10,0,0,2" HorizontalAlignment="Left" Width="220"/>
                <Components:HlpTextBox 
					Validation.ErrorTemplate="{StaticResource exceptionComp}"
					Text="{Binding currentModel.xDiaPagamento, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
					IsEnabled="{Binding bIsEnabled}"
					Height="27" Caption="Dia de pagamento " Help="Insira uma breve identificação para o dia de pagamento. " WidthLabel="142" Margin="10,0,0,2" HorizontalAlignment="Left" Width="220"/>
                <Components:HlpTextBox 
					Validation.ErrorTemplate="{StaticResource exceptionComp}"
					Text="{Binding currentModel.xDescricao, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
					IsEnabled="{Binding bIsEnabled}"
					Height="27" Caption="Descrição " Help="Insira uma descrição da identificação do dia de pagamento." WidthLabel="142" Margin="10,0,0,2" HorizontalAlignment="Left" Width="349.9"/>
            </WrapPanel>
        </Expander>
        <Expander Header="Dia do pagamento" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" IsExpanded="True" Width="300">
            <DataGrid 
                 x:Name="dgvEndereco"
                         ItemsSource="{Binding currentModel.lDia_pagamento_linhas}"                          
                         IsEnabled="{Binding bIsEnabled}"
                         AutoGenerateColumns="False" 
                         SelectionUnit="CellOrRowHeader" 
                         CanUserReorderColumns="False"  
                         CanUserDeleteRows="True" 
                  Margin="0,15,0,0">
                <DataGrid.Columns>
                    <DataGridTemplateColumn Header="Dia útil" Width="120">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <ComboBox 
                                            ItemsSource="{Binding Source={StaticResource EnumDiaUtil}}"
                                            DisplayMemberPath="Key"
                                            SelectedValuePath="Value"
                                            SelectedValue ="{Binding enumDiaUtil, UpdateSourceTrigger=PropertyChanged}"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    
                    
                    <DataGridTextColumn Header="Dia" Width="*"
                                        Binding="{Binding Path=nDia, UpdateSourceTrigger=LostFocus, NotifyOnValidationError=True, ValidatesOnDataErrors=True}"
                                        ElementStyle="{StaticResource CellErrorStyle}"
                                        />
                </DataGrid.Columns>
            </DataGrid>
        </Expander>
        <Grid/>
    </DockPanel>
</runtime:WindowsBase>
